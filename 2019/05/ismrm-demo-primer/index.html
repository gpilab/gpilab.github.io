<!DOCTYPE html>
<html lang="en">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>gpilab.com</title>

            <link href="https://gpilab.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="gpilab.com Full Atom Feed" />
            <link href="https://gpilab.com/feeds/posts.atom.xml" type="application/atom+xml" rel="alternate" title="gpilab.com Categories Atom Feed" />

        <!-- Bootstrap Core CSS -->
        <link href="https://gpilab.com/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="https://gpilab.com/theme/css/clean-blog.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="https://gpilab.com/theme/css/code_blocks/darkly.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->






			<meta property="og:locale" content="en">
		<meta property="og:site_name" content="gpilab.com">

	<meta property="og:type" content="article">
	<meta property="article:author" content="">
	<meta property="og:url" content="https://gpilab.com/2019/05/ismrm-demo-primer/">
	<meta property="og:title" content="ISMRM Demo Primer">
	<meta property="og:description" content="">
	<meta property="og:image" content="https://gpilab.com//images/ismrm2019_commsw.jpg">
	<meta property="article:published_time" content="2019-05-05 12:29:00-07:00">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://gpilab.com/">gpilab.com</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                    <!-- NRZ manually added -->
                    <li><a href="/">Home</a></li>


                            <li><a href="https://gpilab.com/downloads/">Install GPI</a></li>
                            <li><a href="https://gpilab.com/screencasts/">Tutorials</a></li>
                            <li><a href="https://gpilab.com/documentation/">Documentation</a></li>
                            <li><a href="https://gpilab.com/community/">Community</a></li>
                            <li><a href="https://gpilab.com/about/">About</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('/images/ismrm2019_commsw.jpg')">
        <div class="container intro-header-overlay">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>ISMRM Demo Primer</h1>
                        <span class="meta">Posted by
                                <a href="https://gpilab.com/author/nicholas-zwart.html">Nicholas Zwart</a>
                             on Sun 05 May 2019
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <!-- Post Content -->
    <article>
        <p>GPI is going to be presented at the <a href="https://www.ismrm.org/19/program_files/WE21.htm">ISMRM 2019 Open-Source Software Tools for
MR Pulse Design, Simulation &amp; Reconstruction Weekend Course</a>.
The format of this session will be to allow developers to pitch their designs
and then provide a break-out tutorial session to give participants a chance to
interact with the software directly.  To that end, this post is about
installing the latest demo examples via virtual machine or via a free-tier
Amazon-EC2 instance.</p>
<p>This guide is split into two sections:</p>
<ul>
<li>Using Amazon-EC2 via AMI</li>
<li>Using a Virtual Machine Locally</li>
</ul>
<p>If you are not familiar with either of these technologies, it would behoove you
to take some time before the meeting to get one of these setups working.</p>
<hr>
<h1>Using Amazon-EC2 via AMI</h1>
<p>Lets start by introducing some terms:</p>
<ul>
<li>EC2: Elastic Compute Cloud (the '2' is meant to save space by doubling the abbreviated 'C')<ul>
<li>The "elastic compute" generally referes to a computer in the cloud that you can use by secure shelling (ssh) into and starting services like an jupyter notebook or web-server, etc...</li>
</ul>
</li>
<li>AMI: Amazon Machine Image (if you say "Amazon-AMI", you could then shorten it by saying A2MI)<ul>
<li>The "machine image" is a freeze dried, pre-installed system that can be run on an EC2 instance. -Giving you the ability to choose the EC2 hardware that you'd like to run the "machine image" on.</li>
</ul>
</li>
</ul>
<p>The idea is that the GPI demo can be pre-installed on an AMI and the interested
ISMRM participant can simply start their own private EC2 instance to test-drive
the software.  This mechanism for software demos is a new initiative setup by
the organizing committee (see the <a href="https://www.ismrm.org/19m/call-for-community-software-tools-demos/">Call for Community Software
page</a> for
details).</p>
<p>There is still some setup, you'll have to get an Amazon Web Services (AWS)
account, find the GPI-AMI, start an instance, setup an ssh tunnel to interact
with the cloud system.  Since GPI is a graphical desktop application, we've
chosen to use <a href="https://en.m.wikipedia.org/wiki/Virtual_Network_Computing">VNC</a>
as a remote desktop client.</p>
<p>I'm going to include instructions for MacOS, Ubuntu Linux and Windows. -Take
the Windows steps with a grain of salt, I'm listing some instructional links
but this isn't the method I'm personally familiar with.</p>
<h2>1. Install an SSH Client</h2>
<p>To connect to the EC2 instance (of an AMI) you'll need a secure shell client
application. This is already part of MacOS and Linux, so you're set.  If you're
using Windows then you'll need a client like
<a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">Putty</a>.</p>
<h2>2. Install VNC</h2>
<p>Each OS has various VNC capabilities. MacOS has it by default, it can be
accessed by pressing the key sequence <code>Command-k</code> with the <code>Finder.app</code> in
focus.</p>
<h3>Ubuntu Linux</h3>
<p>I prefer <a href="https://www.tightvnc.com/">tightVNC</a> since it has nice compression
features and has been available nearly for ever.</p>
<div class="highlight"><pre><span></span><code>   $ sudo apt-get update
   $ sudo apt-get install xtightvncviewer
</code></pre></div>

<h3>Windows</h3>
<p>Find and install a VNC client.  It appears that
<a href="https://www.realvnc.com">RealVNC</a> has a free trial version.</p>
<h2>3. Sign up for a Free Amazon Web Service Account</h2>
<p>Point your browser to <a href="https://console.aws.amazon.com">console.aws.amazon.com</a>
and sign up.  You'll have to enter a credit card, but if you only select 'free
tier' services (which are labelled at every step), then you won't incur any
charges... probably.</p>
<h2>4. Run the GPI-AMI on EC2</h2>
<p>There are few menus to navigate through to get to the AMI instance that we've
setup for the demo:</p>
<ul>
<li>Click the Region button in the upper right hand corner of the page.<ul>
<li>Mine says "Ohio", but you can choose either "Ohio" or "Oregon", this will allow you to find the AMI</li>
</ul>
</li>
<li>Click the link "Launch a virtual machine"<ul>
<li>this brings you to a page that has various pre-configure images</li>
</ul>
</li>
<li>Click the "Community AMIs" tab on the left hand side of the page.<ul>
<li>use the search bar to find either of the following AMIs:<ul>
<li>Name: GPILAB, AMI-Name: GPILAB-DEMO, AMI ID: ami-02203acf16dd4a983 Region: (US East, Ohio)</li>
<li>Name: GPILAB, AMI-Name: GPILAB-DEMO, AMI ID: ami-0080216529b04243b Region: (US West, Oregon)</li>
</ul>
</li>
</ul>
</li>
<li>Click the checkbox next to the list AMI and then click the "Launch" button above the list<ul>
<li>Choose the "General purpose" (t2.micro) machine config</li>
<li>Press "Review and Launch"</li>
<li>Then Press "Launch"</li>
</ul>
</li>
</ul>
<p>At this point you'll see a dialog box that is asking you to generate a
"key-pair".  This is for secure shelling into your instance, and its the only
way to do so. So choose "create a new key pair" and download the <code>PEM</code> file to
your home directory (remember what you named it, and where you put it). Hit the
final "Launch" button and then hit the "View Instance" button.</p>
<h2>5. Connect to Your EC2 Instance</h2>
<p>Almost connected!  Within the "EC2 Instance" view right click on your newly
running instance to get a popup-dialog, from there hit connect for another
popup that shows the following information:</p>
<div class="highlight"><pre><span></span><code><span class="k">To</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="nl">instance</span><span class="p">:</span><span class="w"></span>

<span class="mf">1.</span><span class="w"> </span><span class="k">Open</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">SSH</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="w"> </span><span class="p">(</span><span class="n">find</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">connect</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">PuTTY</span><span class="p">)</span><span class="w"></span>
<span class="mf">2.</span><span class="w"> </span><span class="n">Locate</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="p">(</span><span class="n">GPILAB_Demo</span><span class="p">.</span><span class="n">pem</span><span class="p">).</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">wizard</span><span class="w"> </span><span class="n">automatically</span><span class="w"> </span><span class="n">detects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">launch</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">instance</span><span class="p">.</span><span class="w"></span>
<span class="mf">3.</span><span class="w"> </span><span class="n">Your</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">publicly</span><span class="w"> </span><span class="n">viewable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">SSH</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">work</span><span class="p">.</span><span class="w"> </span><span class="k">Use</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nl">needed</span><span class="p">:</span><span class="w"></span>

<span class="w">    </span><span class="n">chmod</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="n">GPILAB_DEMO</span><span class="p">.</span><span class="n">pem</span><span class="w"></span>

<span class="mf">4.</span><span class="w"> </span><span class="k">Connect</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="k">Public</span><span class="w"> </span><span class="nl">DNS</span><span class="p">:</span><span class="w"></span>

<span class="w">    </span><span class="n">ec2</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="mi">17</span><span class="o">-</span><span class="mi">23</span><span class="o">-</span><span class="mf">92.</span><span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mf">2.</span><span class="k">compute</span><span class="p">.</span><span class="n">amazonaws</span><span class="p">.</span><span class="n">com</span><span class="w"></span>

<span class="nl">Example</span><span class="p">:</span><span class="w"></span>

<span class="w">    </span><span class="n">ssh</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="ss">&quot;GPILAB_DEMO.pem&quot;</span><span class="w"> </span><span class="n">root</span><span class="nv">@ec2</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="mi">17</span><span class="o">-</span><span class="mi">23</span><span class="o">-</span><span class="mf">92.</span><span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mf">2.</span><span class="k">compute</span><span class="p">.</span><span class="n">amazonaws</span><span class="p">.</span><span class="n">com</span><span class="w"></span>

<span class="n">Please</span><span class="w"> </span><span class="n">note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">cases</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">correct</span><span class="p">,</span><span class="w"> </span><span class="n">however</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="n">ensure</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">AMI</span><span class="w"> </span><span class="k">usage</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">ensure</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">AMI</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">changed</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="n">AMI</span><span class="w"> </span><span class="n">username</span><span class="p">.</span><span class="w"></span>
</code></pre></div>

<p>You'll need to take that information to parameterize your ssh client (with your
instances domain and the user 'ubuntu').</p>
<h3>MacOS and Linux</h3>
<p>In a terminal enter the following command (after you replace the relevant parts
with your instance information):</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="err">$</span><span class="w"> </span><span class="n">ssh</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="ss">&quot;GPILAB_DEMO.pem&quot;</span><span class="w"> </span><span class="o">-</span><span class="n">L</span><span class="w"> </span><span class="mi">5900</span><span class="err">:</span><span class="nl">localhost</span><span class="p">:</span><span class="mi">5900</span><span class="w"> </span><span class="n">ubuntu</span><span class="nv">@ec2</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="mi">17</span><span class="o">-</span><span class="mi">23</span><span class="o">-</span><span class="mf">92.</span><span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mf">2.</span><span class="k">compute</span><span class="p">.</span><span class="n">amazonaws</span><span class="p">.</span><span class="n">com</span><span class="w"></span>
</code></pre></div>

<p>The <code>-L 5900:localhost:5900</code> is used to forward the VNC port over the ssh
connection.</p>
<h3>Windows</h3>
<p>Take note of the <code>PEM</code> file location, the port forwarding command, the username
and domain; these will be entered into Putty to perform the ssh link and VNC
tunnel.</p>
<p>Follow <a href="https://crl.ucsd.edu/handbook/vnc/index.php">this guide</a> to ensuring
that Putty and VNC are setup correctly.</p>
<h2>6. Start the VNC Client</h2>
<p>With the ssh connection established (and the VNC port forwarded to <code>localhost</code>).
You can fire up your VNC client and enter the following information:</p>
<h3>MacOS</h3>
<p>Focus the <code>Finder.app</code> and hit <code>Command-k</code>.  In the dialog box labelled 'server address' type:</p>
<div class="highlight"><pre><span></span><code>    vnc://localhost:5900
</code></pre></div>

<p>Then press connect.</p>
<h3>Linux</h3>
<p>In a terminal enter:</p>
<div class="highlight"><pre><span></span><code>    $ xtightvncviewer localhost:5900
</code></pre></div>

<h3>Windows</h3>
<p>Follow <a href="https://crl.ucsd.edu/handbook/vnc/index.php">this guide</a> to ensuring
that Putty and VNC are setup correctly.</p>
<h4>The VNC Password is <code>gpilab</code></h4>
<p>Assuming the ISMRM conference wifi has enough bandwidth to tunnel a VNC
connection, you should be good to go ;).</p>
<h2>Start GPI</h2>
<p>There is a script on the desktop called <code>startGPI</code>, just double click to get
started.</p>
<p>If you'd like more information on the process of setting up an AMI, the ISMRM
organizers have a nice guide (with pictures) used in a past <a href="https://github.com/peterchang77/dl_tutorial">DL
tutorial</a>.</p>
<hr>
<h1>Using A Virtual Machine Locally</h1>
<p>If your not convinced you'll be able to connect to an Amazon EC3 instance or
perhaps you're more used to using a virtual machine locally, we've got an open
virtual appliance that's ready to go.  You'll need to download and install
either VirtualBox or VMware:</p>
<ul>
<li><a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox (MacOS, Linux, Windows)</a></li>
<li><a href="https://www.vmware.com/products/fusion/fusion-evaluation.html">VMware Fusion (MacOS)</a></li>
<li><a href="https://www.vmware.com/products/workstation-player/workstation-player-evaluation.html">VMware Workstation Player (Linux, Windows)</a></li>
</ul>
<p>Then you'll have to download our pre-installed GPI virtual machine from the
release page or directly:</p>
<ul>
<li><a href="https://github.com/gpilab/framework/releases/tag/v1.0.4">GPI Release Page</a></li>
<li><a href="https://github.com/gpilab/framework/releases/download/v1.0.4/gpilab_v104_2019may05.ova">gpilab_v104_2019may05.ova (1.28GB)</a></li>
</ul>
<p>Open your chosen virtual machine client and import the downloaded <code>OVA</code> file.
After a few dialog boxes you should be able to start your VM directly.</p>
<h2>Start GPI</h2>
<p>There is a script on the desktop called <code>startGPI</code>, just double click to get
started.</p>
    </article>

    <hr>

            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                        <li>
                            <a href="https://github.com/gpilab">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.youtube.com/user/gpilab">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-youtube fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://docs.gpilab.com">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-book fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>

                    <p class="copyright text-muted">
                    &copy; Copyright 2016 Nicholas Zwart, Jim Pipe, Ashley Anderson
                    </p>

                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <!-- <script src="https://gpilab.com/theme/js/jquery.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
        /* banner fade */
        var src = $(".intro-header").css('background-image');
        var url = src.match(/\((.*?)\)/)[1].replace(/('|")/g,'');

        var img = new Image();
        img.onload = function() {
            $( ".intro-header-overlay" ).fadeTo(700, 1)
        }
        img.src = url;
        if (img.complete) img.onload();
    </script>

    <!-- Bootstrap Core JavaScript -->
    <script src="https://gpilab.com/theme/js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="https://gpilab.com/theme/js/clean-blog.min.js"></script>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-55259609-4']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>

</html>