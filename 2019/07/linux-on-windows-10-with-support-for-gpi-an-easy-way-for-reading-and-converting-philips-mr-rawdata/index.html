<!DOCTYPE html>
<html lang="en">

<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>gpilab.com</title>

            <link href="http://gpilab.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="gpilab.com Full Atom Feed" />
            <link href="http://gpilab.com/feeds/posts.atom.xml" type="application/atom+xml" rel="alternate" title="gpilab.com Categories Atom Feed" />

        <!-- Bootstrap Core CSS -->
        <link href="http://gpilab.com/theme/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="http://gpilab.com/theme/css/clean-blog.css" rel="stylesheet">

        <!-- Code highlight color scheme -->
            <link href="http://gpilab.com/theme/css/code_blocks/darkly.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->






			<meta property="og:locale" content="en">
		<meta property="og:site_name" content="gpilab.com">

	<meta property="og:type" content="article">
	<meta property="article:author" content="">
	<meta property="og:url" content="http://gpilab.com/2019/07/linux-on-windows-10-with-support-for-gpi-an-easy-way-for-reading-and-converting-philips-mr-rawdata/">
	<meta property="og:title" content="Linux on Windows 10 with support for GPI: An Easy way for reading and converting Philips MR rawdata">
	<meta property="og:description" content="">
	<meta property="og:image" content="http://gpilab.com/">
	<meta property="article:published_time" content="2019-07-23 00:00:00-07:00">
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://gpilab.com/">gpilab.com</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                    <!-- NRZ manually added -->
                    <li><a href="/">Home</a></li>


                            <li><a href="http://gpilab.com/downloads/">Install GPI</a></li>
                            <li><a href="http://gpilab.com/screencasts/">Tutorials</a></li>
                            <li><a href="http://gpilab.com/documentation/">Documentation</a></li>
                            <li><a href="http://gpilab.com/community/">Community</a></li>
                            <li><a href="http://gpilab.com/about/">About</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
        <header class="intro-header" style="background-image: url('http://gpilab.com/theme/images/post-bg.jpg')">
        <div class="container intro-header-overlay">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Linux on Windows 10 with support for GPI: An Easy way for reading and converting Philips MR rawdata</h1>
                        <span class="meta">Posted by
                                <a href="http://gpilab.com/author/sandeep-ganji.html">Sandeep Ganji <sandeep.ganji@philips.com></a>
                             on Tue 23 July 2019
                        </span>
                        
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <!-- Post Content -->
    <article>
        <h1>Linux on Windows 10 with support for GPI: An Easy way for reading and converting Philips MR rawdata</h1>
<p>(Note: a video version of this tutorial is available at <a href="https://www.youtube.com/watch?v=LWMhKDcEce0&amp;feature=youtu.be">this link</a>)</p>
<p>The installation of a Linux Distro on a Windows 10 operating system is outlined using Windows Subsystem for Linux (WSL) feature. Instructions on how to install GPI (Graphical Programming Interface) in the Linux Disrto under Windows 10 and how to convert the proprietary and standard Philips MR rawdata, imaging and spectroscopy data to NumPy data are shown below.</p>
<p>Prerequisites and Installed Software list</p>
<hr>
<ul>
<li>
<p>Prerequisites</p>
<ul>
<li>Windows 10 Professional (Enterprise / Home) with version 1607 (OS build 14393) or above</li>
</ul>
</li>
<li>
<p>Software installed on Windows 10:</p>
<ul>
<li>Windows Subsystem for Linux (WSL)</li>
<li>‘X’ windows server (such as Xming or MobaXterm or VcXsrv)</li>
</ul>
</li>
<li>
<p>Software installed inside the Linux environment (under WSL):</p>
<ul>
<li>Conda (miniconda) – a cross-platform and cross-language package manager</li>
<li>GPI (Graphical Programming Interface)</li>
<li>ReadPhilips nodes and networks for GPI</li>
</ul>
</li>
</ul>
<h1>Windows Subsystem for Linux (WSL)</h1>
<p>Introduction to Windows Subsystem for Linux (WSL)</p>
<hr>
<p>The Windows Subsystem for Linux (WSL) is a new Windows 10 feature (made available in a 2016 Windows update) that enables native Linux command-line tools directly on Windows, alongside the traditional Windows desktop and modern store apps. WSL is a collection of components that enables native Linux ELF64 binaries to run on Windows. It contains both user mode and kernel mode components.</p>
<p>It is primarily comprised of:</p>
<ol>
<li>
<p>User mode session manager service that handles the Linux instance life cycle</p>
</li>
<li>
<p>Pico provider drivers (lxss.sys, lxcore.sys) that emulate a Linux kernel by translating Linux syscalls</p>
</li>
<li>
<p>Pico processes that host the unmodified user mode Linux (e.g. /bin/bash)</p>
</li>
</ol>
<p>By placing unmodified Linux binaries in Pico processes, thus enabling Linux system calls to be directed into the Windows kernel. The lxss.sys and lxcore.sys drivers translate the Linux system calls into NT APIs and emulate the Linux kernel on Windows.</p>
<p>In May 2019, Microsoft announced the newest architecture for the Windows Subsystem for Linux (WSL2). It will be released as a Windows Insider Preview in late-2019 and later will be incorporated into native Windows build in the future releases. (Source:<a href="https://blogs.msdn.microsoft.com/wsl/2016/04/22/windows-subsystem-for-linux-overview/">https://blogs.msdn.microsoft.com/wsl/2016/04/22/windows-subsystem-for-linux-overview/</a>,
<a href="https://devblogs.microsoft.com/commandline/announcing-wsl-2/">https://devblogs.microsoft.com/commandline/announcing-wsl-2/</a> and <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-install">https://docs.microsoft.com/en-us/windows/wsl/wsl2-install</a>)</p>
<p>WSL depends on the Windows 10 Build version</p>
<hr>
<p>It is important to understand that Windows adds, updates, and removes features with each new major update (version or build number change). WSL was first introduced in Windows 10 version 1607 (OS build 14393, first made available on 2016-08-02). While the more recent version of Windows 10 is 1903 (OS build 18362, released on 2019-05-21).</p>
<p>Checking Windows 10 Build version</p>
<hr>
<p>To confirm your current Windows version, follow the step below</p>
<p><strong>Method 1: Using “winver” command</strong></p>
<p>Press “Windows Key” + “R” simultaneously</p>
<p>Then type “winver” and hit “Enter Key” and note the output</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_1.png"></p>
<p><strong>Method 2: Using “About PC” functionality</strong> </p>
<p>Press “Windows Key”, type “About your PC” in the search space and hit
“Enter Key”.</p>
<p>A window with your system information will open showing you the Windows Edition and version number.</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_2.png"></p>
<p>Updating to the latest Windows Version</p>
<hr>
<p>Press “Windows Key”, type “Check for Updates” in the search space and hit “Enter Key”.</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_3.png"></p>
<p>Checking if the WSL is enabled</p>
<hr>
<p>First check if the WSL is already enabled in your Windows operating system</p>
<p>Step 1: Open Powershell as “Administrator” (right-click on the icon and select option “Run as Administrator”)</p>
<p>Step 2: Run the following command</p>
<div class="highlight"><pre><span></span><span class="n">DISM</span> <span class="o">/</span><span class="n">online</span> <span class="o">/</span><span class="k">get</span><span class="o">-</span><span class="n">features</span> <span class="o">/</span><span class="n">format</span><span class="p">:</span><span class="k">table</span> <span class="o">|</span> <span class="k">Select</span><span class="o">-</span><span class="n">String</span> <span class="o">-</span><span class="n">Pattern</span> <span class="ss">&quot;Linux&quot;</span>
</pre></div>


<p>If is output shows “<strong>Microsoft-Windows-Subsystem-Linux | Enabled</strong>”, then WSL is <strong>enabled</strong> in Windows.</p>
<p>If is output shows “<strong>Microsoft-Windows-Subsystem-Linux | Disabled</strong>”, then WSL is <strong>not enabled</strong> in the Windows and it must be enabled
manually. Follow the steps below to enable the WSL in Windows.</p>
<p>Method 1: Enabling WSL using PowerShell with Administrator rights</p>
<hr>
<p>Step 1: Open PowerShell as “Administrator”</p>
<p>Step 2: Run the following command</p>
<div class="highlight"><pre><span></span><span class="n">Enable</span><span class="o">-</span><span class="n">WindowsOptionalFeature</span> <span class="o">-</span><span class="n">Online</span> <span class="o">-</span><span class="n">FeatureName</span> <span class="n">Microsoft</span><span class="o">-</span><span class="n">Windows</span><span class="o">-</span><span class="n">Subsystem</span><span class="o">-</span><span class="n">Linux</span>
</pre></div>


<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_4.png"></p>
<p>Step 3: Wait for the process to end and Restart the computer when prompted</p>
<p>Method 2: Enabling WSL using Windows Features (GUI)</p>
<hr>
<p>Step 1: Open the advanced Windows Feature list</p>
<p>Step 2: Go to “<strong>Control Panel</strong>”, then “<strong>Programs and Features</strong>”</p>
<p>Step 3: Select “<strong>Turn Windows features on or off</strong>”</p>
<p>(Note: If you don’t have Administrative rights on the PC, then try the above mentioned PowerShell method or contact your system administrator or IT)</p>
<p>Step 4: Enable “<strong>Windows Subsystem for Linux</strong>”</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_5.png">
<img alt="" src="http://gpilab.com/images/win10/GPIonWin10_6.png"></p>
<p>Step 5: Wait for the process to end and Restart the computer when prompted</p>
<h1>Installing X Server software (on Windows 10)</h1>
<p>The previous steps give access to only command line version of Ubuntu (or whatever distro you installed) natively on Windows. It can be used like most other apps in Windows. However, in order to run GUI applications in WSL, you need to first install an X Server on your
Windows machine. Microsoft Windows is not shipped with support for X server, but many third-party implementations exist, such as <strong>Cygwin/X</strong> or <strong>Xming</strong> or <strong>MobaXterm</strong> or <strong>VcXsrv</strong> (free version), and proprietary products such as <strong>Exceed</strong>, <strong>MKS X/Server</strong>, <strong>Reflection X</strong>, <strong>X-Win32</strong>.</p>
<p>Step 1: Download Xming from <a href="https://sourceforge.net/projects/xming/">https://sourceforge.net/projects/xming/</a> on to your Windows 10 machine</p>
<p>Step 2: Install the Xming by running “<strong><em>Xming-6-9-0-31-setup.exe</em></strong>” file</p>
<p>Step 3: Reboot the system and after rebooting start the Xming software. Confirm that Xming is running in Windows Taskbar (will show up as <strong>Xming Server:0.0</strong>, when you hover mouse on the icon).</p>
<h1>Installing Linux Distro of your choice</h1>
<p>Download and install your favorite flavor of Linux distribution from the Windows Store.</p>
<p>Step 1: Open the Windows Store, search (top right corner) for “<strong>Linux</strong>”</p>
<p>Step 2: Click on “<strong>Get the apps</strong>”</p>
<p>Step 3: Download the Linux distribution you prefer for your work (Ubuntu 18.04 version is recommended if you do not have a reason to pick another distribution. If you choose a different Linux distribution, some of the following instructions may not completely apply)</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_7.png"></p>
<p>If for some reason, the network you’re connected does not allow access to “Microsoft Store”, then you can manually download the Linux distro’s at <a href="https://docs.microsoft.com/en-us/windows/wsl/install-manual">https://docs.microsoft.com/en-us/windows/wsl/install-manual</a> (e.g. Ubuntu 18.01 version is <em>CanonicalGroupLimited.Ubuntu18.04onWindows_1804.2018.817.0_x64__79rhkp1fndgsc</em>).</p>
<h1>Post Installation Setup (inside Linux)</h1>
<p>Step 1: Launch your distribution of Linux (via Start Menu or Microsoft Store)</p>
<p>Step 2: Wait for installation to finish, until it shows the following window</p>
<p>Step 3: When prompted create a <strong>username</strong> and <strong>password</strong></p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_8.png"></p>
<p>Step 4: Check the Linux version installed (type into the terminal)</p>
<div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">os</span><span class="o">-</span><span class="n">release</span>
</pre></div>


<p>For example, output for Ubuntu 18.04 Linux distro is shown below</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_9.png"></p>
<p>Step 5: Update the system with latest distro repositories by entering the following commands</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="k">update</span>
</pre></div>


<p>Step 6: Get the wget and unzip packages by using following command</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="k">get</span> <span class="n">install</span> <span class="n">unzip</span> <span class="n">wget</span>
</pre></div>


<p>Step 7: Get the build-essential tools (The build-essential package contains important development tools including the gcc compiler)</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="k">get</span> <span class="n">install</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span>
</pre></div>


<p>Step 8: Get latest ca-certificates</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="k">get</span> <span class="n">install</span> <span class="n">ca</span><span class="o">-</span><span class="n">certificates</span>
</pre></div>


<h1>GPI installation and testing</h1>
<p>In order to install GPI, first you need to get the installation script from the GPI website (<a href="http://gpilab.com/downloads/">http://gpilab.com/downloads/</a>) and then run the script in the Linux distro (this case it is Ubuntu) installed using the steps above.</p>
<p>Obtaining the GPI install script</p>
<hr>
<p>Step 1: Launch your distribution of Linux (via Start Menu)</p>
<p>Step 2: Get the latest GPI installation script from
<a href="http://gpilab.com/downloads/">http://gpilab.com/downloads/</a> using</p>
<div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="p">.</span><span class="n">githubusercontent</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpilab</span><span class="o">/</span><span class="n">conda</span><span class="o">-</span><span class="n">distro</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">GPI_Install_Latest</span><span class="p">.</span><span class="n">sh</span>
</pre></div>


<p>(Note: this script will work only for Linux distros and macOS version 10.09 or above)</p>
<p>Installing GPI</p>
<hr>
<p>Step 1: Elevate the privileges of “GPI_Install_Latest.sh” shell script</p>
<div class="highlight"><pre><span></span><span class="n">chmod</span> <span class="o">+</span><span class="n">x</span> <span class="n">GPI_Install_Latest</span><span class="p">.</span><span class="n">sh</span>
</pre></div>


<p>Step 2: Execute the shell script “GPI_Install_Latest.sh”</p>
<div class="highlight"><pre><span></span><span class="p">.</span><span class="o">/</span><span class="n">GPI_Install_Latest</span><span class="p">.</span><span class="n">sh</span>   <span class="o">~/</span><span class="n">gpi_stack</span>
</pre></div>


<p>(Note: if you need help, you see the help text by ./GPI_Install_Latest.sh  -h)</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_10.png"></p>
<p>Step 3: If the GPI install is successful you will get the following
message in the terminal</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_11.png"></p>
<p>Step 4: Close the WSL terminal (by using exit command)</p>
<p>Testing the GPI GUI</p>
<hr>
<p>The main GPI workspace is the canvas, which can be loaded by running the following commands. It gives access to the core gpi nodes and can be used to build algorithms. Make sure the Xming server or your preferred Windows X Server is running.</p>
<p>Launch your distribution of Linux (via Start Menu). Run the following commands in the Ubuntu Terminal (see the screenshot below that shows the outputs)</p>
<div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">gpi</span>
<span class="n">export</span> <span class="n">DISPLAY</span><span class="o">=</span><span class="p">:</span><span class="mi">0</span>
<span class="n">gpi</span> <span class="o">&amp;</span>
</pre></div>


<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_12.png">
<img alt="" src="http://gpilab.com/images/win10/GPIonWin10_13.png"></p>
<h1>Obtaining and configuring the readPhilips nodes</h1>
<p>Description</p>
<hr>
<p>The “<em>readPhilips</em>” nodes are GPI nodes that are binary distributions for reading Philips MR data. Current supported formats include rawdata (LAB/RAW/SIN, DATA/LIST, CPX), and imaging &amp; spectroscopy data (e.g. DICOM, par/rec, sdat/spar). For more information visit
<a href="https://github.com/gpilab/philips-data-reader">https://github.com/gpilab/philips-data-reader</a>. The below steps assume a working GPI already exists and has all the gpi-core-nodes are
installed.</p>
<p>Installation of the nodes in GPI</p>
<hr>
<p>Download the latest release binary (pre-compiled) files corresponding to the installation of GPI platform (Linux or macOS X) to the default GPI library directory (or a directory that is in your LIB_PATH, as shown in the configuration documentation), unzip and restart GPI.</p>
<p>For example, from the Ubuntu terminal</p>
<div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">home</span><span class="cm">/**user**/</span><span class="n">gpi</span><span class="o">/</span>
</pre></div>


<p>(here <strong>user</strong> is the name of your user directory)</p>
<div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpilab</span><span class="o">/</span><span class="n">philips</span><span class="o">-</span><span class="k">data</span><span class="o">-</span><span class="n">reader</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">v1</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">6</span><span class="o">/</span><span class="n">ReadPhilips</span><span class="o">-</span><span class="n">GPI</span><span class="o">-</span><span class="n">Linux</span><span class="o">-</span><span class="n">Python36</span><span class="o">-</span><span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">15</span><span class="p">.</span><span class="n">zip</span>
<span class="n">unzip</span> <span class="n">ReadPhilips</span><span class="o">-</span><span class="n">GPI</span><span class="o">-</span><span class="n">Linux</span><span class="o">-</span><span class="n">Python36</span><span class="o">-</span><span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">15</span><span class="p">.</span><span class="n">zip</span>
</pre></div>


<p>(this will unzip a folder called ‘<em>philips</em>’ in /home/<strong>user</strong>/gpi, precise naming here is important for GPI to load the modules properly. Note that there may be new readphilips nodes or networks in the future)</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_14.png"></p>
<p>Confirming the read philips nodes in GPI canvas</p>
<hr>
<p>To confirm that the nodes are installed and working, you can do the following simple test.</p>
<p>Step 1: Start the X server application (Xming in this case)</p>
<p>Step 2: Start the Linux (Ubuntu 18.04 in this case) terminal and run the following commands in the terminal window</p>
<div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">gpi</span>
<span class="n">export</span> <span class="n">DISPLAY</span><span class="o">=</span><span class="p">:</span><span class="mi">0</span>
<span class="n">gpi</span> <span class="o">&amp;</span>
</pre></div>


<p>Step 3: Once the GPI canvas is open, “Right Click” on the canvas to open a menu and it should show “philips” option under the “core”. Any other GPI libraries you create or install will also show up here.</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_15.png"></p>
<p>Step 4: If you do not see the “philips” option, then in the Menu options at the top, click on “Config” and then click on “Scan for New Nodes” and then check the menu again for “philips” option</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_16.png"></p>
<h1>Data conversion networks</h1>
<p>The latest GPI network files (*.net) for converting reading and converting the Philips MR data from GitHub are included in the
readphilips nodes zip file (inside the \~/gpi/philips folder).</p>
<p>readPhilips_Imaging_raw.net</p>
<hr>
<p>This network is designed to read and convert the Philips MR imaging data (LAB/RAW/SIN, DATA/LIST, CPX) to NumPy data format (*.npy files) and header information into a Python dictionary (saved on-disk as a *.pickle file).</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_17.png"></p>
<p>readPhilips_Spectro_raw.net</p>
<hr>
<p>This network is designed to read and convert the Philips MR spectroscopy data (LAB/RAW/SIN, DATA/LIST, CPX) to NumPy data format (*.npy files) and header information into a Python dictionary (saved on-disk as a *.pickle file).</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_18.png"></p>
<h1>Running the data conversion networks and validating the output</h1>
<p>Philips raw data conversion using Linux command line</p>
<hr>
<p>The rawdata that needs to be converted can be anywhere in the system (host or in the linux). For WSL, all the drives can be accessed by /mnt directory inside the Linux environment. Once you have the location of the data on the windows you can use that as a path in the Linux terminal.</p>
<p>Step 1: Start the X server application (Xming in this case)</p>
<p>Step 2: Start the Linux (in this case Ubuntu 18.04) terminal and run the following commands in the terminal window</p>
<div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">gpi</span>
<span class="n">export</span> <span class="n">DISPLAY</span><span class="o">=</span><span class="p">:</span><span class="mi">0</span>
</pre></div>


<p>Step 3: For imaging raw data you can use the readPhilips_Imaging_raw.net</p>
<div class="highlight"><pre><span></span><span class="n">gpi</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">sganji</span><span class="o">/</span><span class="n">gpi</span><span class="o">/</span><span class="n">philips</span><span class="o">/</span><span class="n">readPhilips_Imaging_raw</span><span class="p">.</span><span class="n">net</span> <span class="c1">--nogui -s filename:/mnt/drive_letter/path_of_rawdata_files/Filename.raw</span>
</pre></div>


<p>Or</p>
<p>Step 3: For spectroscopy raw data you can use the readPhilips_Spectro_raw.net</p>
<div class="highlight"><pre><span></span><span class="n">gpi</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">sganji</span><span class="o">/</span><span class="n">gpi</span><span class="o">/</span><span class="n">philips</span><span class="o">/</span><span class="n">readPhilips_Spectro_raw</span><span class="p">.</span><span class="n">net</span> <span class="c1">--nogui -s filename:/mnt/drive_letter/path_of_rawdata_files/Filename.raw</span>
</pre></div>


<p>Validating the output NumPy files (checking the dimensions, and labels)</p>
<hr>
<p>One can validate the output NumPy files using a python IDE. Load the data using NumPy package.</p>
<p>For example, using Spyder (<a href="https://www.spyder-ide.org/">https://www.spyder-ide.org/</a>) one can check the output files of a mDixon dataset.</p>
<p>Input files
20190425_155716_mDixon_3D_2echo.raw
20190425_155716_mDixon_3D_2echo.lab
20190425_155716_mDixon_3D_2echo.sin</p>
<p>Script</p>
<div class="highlight"><pre><span></span><span class="n">gpi</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">sganji</span><span class="o">/</span><span class="n">gpi</span><span class="o">/</span><span class="n">philips</span><span class="cm">/**readPhilips_Imaging_raw.net** --nogui -s filename:/mnt/v/zData_WorkingON01/20190425_SG_ProstatePhan/RAWDATA/20190425_155716_mDixon_3D_2echo.raw</span>
</pre></div>


<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_19.png"></p>
<p>Output files
20190425_155716_mDixon_3D_2echo__data.npy
-   Data is a NumPy array with dimensions [27 x 2 x 2 x 32 x 60 x 224]
20190425_155716_mDixon_3D_2echo__header.pickle
-   Contains header information in the form of a dictionary (from both <em>.lab and </em>.sin files)
20190425_155716_mDixon_3D_2echo__noise.npy
-   Noise is a NumPy array with dimensions [27 x 19936] (this is 27 channels noise data)</p>
<p><img alt="" src="http://gpilab.com/images/win10/GPIonWin10_20.png"></p>
<h1>Known issues and bugs</h1>
<p>GPI and its Philips networks are constantly being developed and improved by GPI and Philips team. If you find any bugs or have questions, please reach out to GPI team on the GitHub (use the issue tracker) or email Sandeep Ganji (<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#83;&#97;&#110;&#100;&#101;&#101;&#112;&#46;&#71;&#97;&#110;&#106;&#105;&#64;&#112;&#104;&#105;&#108;&#105;&#112;&#115;&#46;&#99;&#111;&#109;">&#83;&#97;&#110;&#100;&#101;&#101;&#112;&#46;&#71;&#97;&#110;&#106;&#105;&#64;&#112;&#104;&#105;&#108;&#105;&#112;&#115;&#46;&#99;&#111;&#109;</a>).</p>
<p>Multi-Nuclear MR Spectroscopy</p>
<hr>
<p>We have noticed some failures when converting the multi-nuclear spectroscopy rawdata. So please check the output data, if it converts,
for dimensionality and continency. If the data fails to convert at all, please let us know and we can improve the functionality based on your inputs.</p>
<p>Certificate issue when using wget</p>
<hr>
<p>When downloading the installation script, if one gets the following ca-certificates error</p>
<div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="o">:</span> <span class="n">The</span> <span class="n">certificate</span> <span class="n">of</span> <span class="err">‘</span><span class="n">raw</span><span class="o">.</span><span class="na">githubusercontent</span><span class="o">.</span><span class="na">com</span><span class="err">’</span> <span class="k">is</span> <span class="n">not</span> <span class="n">trusted</span><span class="o">.</span>
<span class="n">ERROR</span><span class="o">:</span> <span class="n">The</span> <span class="n">certificate</span> <span class="n">of</span> <span class="err">‘</span><span class="n">raw</span><span class="o">.</span><span class="na">githubusercontent</span><span class="o">.</span><span class="na">com</span><span class="err">’</span> <span class="n">hasn</span><span class="err">&#39;</span><span class="n">t</span> <span class="n">got</span> <span class="n">a</span> <span class="n">known</span> <span class="n">issuer</span><span class="o">.</span>
</pre></div>


<p>They should install the latest <strong>ca-certificates</strong> using the following command</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">ca</span><span class="o">-</span><span class="n">certificates</span>
</pre></div>


<p>Atypical sequence data</p>
<hr>
<p>For raw data from a newly development sequence, where the dimensions are either improbably labelled or new reconstruction labels were created, then the above conversion may fail.</p>
<h2>Author</h2>
<p>Sandeep Ganji
Contributions from Daniel Borup and Ashley Anderson</p>
<h1>Legal Disclaimer</h1>
<p>THE SOFTWARE AND INSTRUCTIONS ARE PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<h1>References and Sources</h1>
<p><em>Linux on Windows</em></p>
<hr>
<ol>
<li><a href="https://blogs.msdn.microsoft.com/wsl/2016/04/22/windows-subsystem-for-linux-overview/">https://blogs.msdn.microsoft.com/wsl/2016/04/22/windows-subsystem-for-linux-overview/</a></li>
<li><a href="https://docs.microsoft.com/en-us/windows/wsl/about">https://docs.microsoft.com/en-us/windows/wsl/about</a></li>
<li><a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">https://docs.microsoft.com/en-us/windows/wsl/install-win10</a></li>
<li><a href="https://docs.microsoft.com/en-us/windows/wsl/install-manual">https://docs.microsoft.com/en-us/windows/wsl/install-manual</a></li>
<li><a href="http://wsl-guide.org/en/latest/index.html">http://wsl-guide.org/en/latest/index.html</a></li>
</ol>
<p><em>GPI (Graphical Programming Interface)</em></p>
<hr>
<ol>
<li>http://gpilab.com/</li>
<li><a href="https://github.com/gpilab">https://github.com/gpilab</a></li>
<li><a href="https://ismrm.github.io/mrhub/">https://ismrm.github.io/mrhub/</a></li>
<li><a href="https://github.com/gpilab/philips-data-reader/releases">https://github.com/gpilab/philips-data-reader/releases</a></li>
</ol>
    </article>

    <hr>

            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                        <li>
                            <a href="https://github.com/gpilab">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://www.youtube.com/user/gpilab">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-youtube fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://docs.gpilab.com">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-book fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>

                    <p class="copyright text-muted">
                    &copy; Copyright 2016 Nicholas Zwart, Jim Pipe, Ashley Anderson
                    </p>

                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <!-- <script src="http://gpilab.com/theme/js/jquery.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
        /* banner fade */
        var src = $(".intro-header").css('background-image');
        var url = src.match(/\((.*?)\)/)[1].replace(/('|")/g,'');

        var img = new Image();
        img.onload = function() {
            $( ".intro-header-overlay" ).fadeTo(700, 1)
        }
        img.src = url;
        if (img.complete) img.onload();
    </script>

    <!-- Bootstrap Core JavaScript -->
    <script src="http://gpilab.com/theme/js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="http://gpilab.com/theme/js/clean-blog.min.js"></script>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-55259609-4']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>

</html>